(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{84:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a,c,s,i,r,l,o,j,d=n(27),m=n(1),b=n.n(m),u=n(77),h=n(98),O=n(100),p=n(97),g=n(75),x=n(73),f=n.n(x),v=(n(84),n(17)),y=n(6),w=n(8),N=n(15),_=n(12),k=n(9),S=n(93),P=n(30),$=n(99),C=Object($.a)(a||(a=Object(P.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),q=Object($.a)(c||(c=Object(P.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),I=Object($.a)(s||(s=Object(P.a)(["\n  mutation addPicture($title: String!, $image: String!, $comment: String!) {\n    addPicture(title: $title, image: $image, comment:$comment) {\n      _id\n      title\n      image\n      comment\n      post_time\n    }\n  }\n"]))),L=(Object($.a)(i||(i=Object(P.a)(["\n  mutation addComment($comment: String!) {\n    addComment(comment: $comment) {\n      _id\n      comment\n      post_time\n    }\n  }\n"]))),n(19)),F=n(20),T=n(63),D=new(function(){function e(){Object(L.a)(this,e)}return Object(F.a)(e,[{key:"getProfile",value:function(){return Object(T.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(T.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),Y=n(2),z=function(){var e=Object(m.useState)({username:"",email:"",password:""}),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(S.a)(q),s=Object(k.a)(c,2),i=s[0],r=s[1],l=r.error,o=r.data,j=function(e){var t=e.target,c=t.name,s=t.value;a(Object(d.a)(Object(d.a)({},n),{},Object(_.a)({},c,s)))},b=function(){var e=Object(N.a)(Object(w.a)().mark((function e(t){var a,c;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,i({variables:Object(d.a)({},n)});case 5:a=e.sent,c=a.data,D.login(c.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)("main",{className:"flex-row justify-center",children:Object(Y.jsx)("div",{className:"col",children:Object(Y.jsxs)("div",{className:"card",children:[Object(Y.jsxs)("h4",{className:"card-header",children:["Sign Up ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-user-plus"})]}),Object(Y.jsxs)("div",{className:"card-body",children:[o?Object(Y.jsxs)("button",{className:"btn",id:"btn1",children:["Success! You may now head"," ",Object(Y.jsx)(v.b,{to:"/",children:"back to the homepage."})]}):Object(Y.jsxs)("form",{onSubmit:b,children:[Object(Y.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:n.name,onChange:j}),Object(Y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:j}),Object(Y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:j}),Object(Y.jsxs)("button",{id:"btn1",className:"btn",type:"submit",children:["Submit ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-file-import"})]})]}),l&&Object(Y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})]})})})},U=function(e){var t=Object(m.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],c=n[1],s=Object(S.a)(C),i=Object(k.a)(s,2),r=i[0],l=i[1],o=l.error,j=l.data,b=function(e){var t=e.target,n=t.name,s=t.value;c(Object(d.a)(Object(d.a)({},a),{},Object(_.a)({},n,s)))},u=function(){var e=Object(N.a)(Object(w.a)().mark((function e(t){var n,s;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a),e.prev=2,e.next=5,r({variables:Object(d.a)({},a)});case 5:n=e.sent,s=n.data,D.login(s.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:c({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(Y.jsx)("div",{className:"col-12 col-lg-10",children:Object(Y.jsxs)("div",{className:"card",id:"log",children:[Object(Y.jsxs)("h4",{id:"login",className:"card-header",children:["Login ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-users-rectangle"})]}),Object(Y.jsxs)("div",{className:"card-body",children:[j?Object(Y.jsxs)("p",{children:["Success! You may now head"," ",Object(Y.jsx)(v.b,{to:"/",children:"back to the homepage."})]}):Object(Y.jsxs)("form",{onSubmit:u,children:[Object(Y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:b}),Object(Y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:b}),Object(Y.jsxs)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:["Submit ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-file-import"})]})]}),o&&Object(Y.jsx)("div",{id:"alert",className:"my-3 p-3 text-white",children:o.message})]})]})})})},E=n(101),A=function(e){var t=e.pictures,n=e.title,a=e.showTitle,c=void 0===a||a,s=e.showUsername,i=void 0===s||s;return t.length?Object(Y.jsxs)("div",{children:[c&&Object(Y.jsx)("h3",{children:n}),t&&t.map((function(e){return Object(Y.jsxs)("div",{className:"card mb-3",children:[Object(Y.jsx)("h4",{className:"card-header bg-primary text-light p-2 m-0",children:i?Object(Y.jsxs)(v.b,{className:"text-light",to:"/profiles/".concat(e.username),children:[e.username," ",Object(Y.jsx)("br",{}),Object(Y.jsxs)("span",{style:{fontSize:"1rem"},children:["photo posted @: ",e.createdAt]})]}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("span",{style:{fontSize:"1rem"},children:["Photo posted @: ",e.createdAt]})})}),Object(Y.jsx)("div",{className:"card-body bg-light p-2",data:"zoom-in",children:Object(Y.jsx)("p",{children:e.comment})}),Object(Y.jsx)(v.b,{className:"btn btn-primary btn-block btn-squared",to:"/pictures/".concat(e._id),children:"Post pictures!"})]},e._id)}))]}):Object(Y.jsx)("h3",{children:"No Pictures Created...Yet\u2757\ud83d\udeab"})},H=(Object($.a)(r||(r=Object(P.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      pictures {\n        _id\n        title\n        image\n        comment\n        post_time\n      }\n    }\n  }\n"]))),Object($.a)(l||(l=Object(P.a)(["\n  query getPictures {\n    pictures {\n      _id\n      title\n      image\n      comment\n      post_time\n    }\n  }\n"])))),B=(Object($.a)(o||(o=Object(P.a)(["\n  query getComments {\n    comments {\n      _id\n      comment\n      post_time\n    }\n  }\n"]))),Object($.a)(j||(j=Object(P.a)(["\n  query me {\n    me {\n      _id\n      username\n      email\n      pictures {\n        _id\n        title\n        image\n        comment\n        post_time\n      }\n    }\n  }\n"]))),function(){var e=Object(E.a)(H),t=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.pictures)||[];return t?Object(Y.jsxs)("div",{children:["Loading...",Object(Y.jsx)("i",{id:"login_icon",class:"fa-regular fa-image"}),"..."]}):Object(Y.jsx)("main",{children:Object(Y.jsxs)("div",{className:"flex-row justify-center",children:[Object(Y.jsx)("div",{id:"parlay-form",className:"col-12 col-md-10 mb-3 p-3"}),Object(Y.jsx)("div",{className:"flex-row justify-center",children:t?Object(Y.jsxs)("div",{children:["Loading...",Object(Y.jsx)("i",{id:"login_icon",class:"fa-regular fa-image"}),"..."]}):Object(Y.jsx)(A,{pictures:a,title:"Post w/ friends & family!"})})]})})}),M=n(74),G=n.n(M),J=function(){Object(m.useEffect)((function(){G.a.init({duration:2e3}),window.addEventListener("scroll",(function(){}))}),[]);return Object(Y.jsxs)("nav",{id:"navbar",className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(Y.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"}),Object(Y.jsx)(v.b,{className:"text-light",to:"/",children:Object(Y.jsx)("h1",{id:"title",children:Object(Y.jsx)("img",{id:"build",src:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1690795368/raf_cloud_tjyq3y.svg",alt:"Raf's_Photo_Cloud"})})}),Object(Y.jsx)("div",{className:"row",id:"links",children:D.loggedIn()?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(v.b,{className:"btn",to:"/me",children:[D.getProfile().data.username,"'s Dashboard ",Object(Y.jsx)("i",{class:"fa-solid fa-photo-film"})]}),Object(Y.jsx)(v.b,{to:"/postform",children:Object(Y.jsxs)("button",{className:"btn",to:"/postform",children:["Photo Cloud ",Object(Y.jsx)("i",{class:"fa-solid fa-cloud"})]})}),Object(Y.jsxs)("button",{className:"btn",onClick:function(e){e.preventDefault(),D.logout()},children:["Logout ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-ban"})]})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(v.b,{className:"btn",to:"/login",children:["Login ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-users-rectangle"})]}),Object(Y.jsxs)(v.b,{className:"btn",to:"/signup",children:["Sign Up ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-user-plus"})]})]})})]})},R=function(){var e=(new Date).getFullYear(),t=Object(y.l)(),n=Object(y.n)();return Object(Y.jsx)("footer",{id:"footer",className:"w-100 mt-auto bg-secondary p-4",children:Object(Y.jsxs)("div",{className:"container text-center mb-5",children:["/"!==t.pathname&&Object(Y.jsx)("button",{id:"back",className:"btn",onClick:function(){return n(-1)},children:"\u2b05\ufe0f Go Back"}),Object(Y.jsxs)("h4",{id:"foot-title",children:["Made with"," ",Object(Y.jsx)("i",{class:"fa-brands fa-github"})," ",Object(Y.jsxs)("strong",{children:[" AASports89 \xa9",e," "]})]})]})})},W=function(e){var t=e.pictures,n=void 0===t?[{title:"Welcome to Raf's Photo Cloud!",image:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1687761690/fam_w9ojas.png"},{title:"Share photos w/ friends & family!",image:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1687766800/IMG_3821_cyaa4x.jpg"},{title:"New Photos!",image:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1687760596/fam_pic_nmkmze.png"},{title:"More photos!",image:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1687159819/file_logo_m7jfpl.svg"},{title:"Europe Trip!",image:"https://res.cloudinary.com/dhqsixgmo/image/upload/v1687159819/file_logo_m7jfpl.svg"}]:t;if(!n.length)return Object(Y.jsx)("h3",{children:"No Pictures Yet"});n&&n.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"card",id:"prices",children:e.title}),Object(Y.jsx)("td",{className:"card",id:"prices",children:e.image}),Object(Y.jsx)("td",{className:"card",id:"prices",children:e.comment}),Object(Y.jsx)("td",{className:"card",id:"clock",children:e.post_time})]},e.id)}))},K=function(){var e=Object(m.useState)(""),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(m.useState)(""),s=Object(k.a)(c,2),i=s[0],r=s[1],l=Object(m.useState)(""),o=Object(k.a)(l,2),j=o[0],d=o[1],b=Object(S.a)(I),u=Object(k.a)(b,2),h=u[0],O=(u[1].error,Object(E.a)(H)),p=O.loading,g=O.data,x=(null===g||void 0===g?void 0:g.pictures)||[];if(p)return Object(Y.jsxs)("div",{children:["Loading...",Object(Y.jsx)("i",{id:"login_icon",class:"fa-regular fa-image"}),"..."]});var f=function(){var e=Object(N.a)(Object(w.a)().mark((function e(t){var c;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h({pictures:{title:n,image:i,comment:j,username:D.getProfile().data.username}});case 4:c=e.sent,c.pictures,a(""),r(""),d(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.target,n=t.checkbox,c=t.value;!1===n&&(a(c),r(c),d(c))};return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("h4",{children:[Object(Y.jsx)("i",{class:"fa-solid fa-cloud"})," Pictures Posted ",Object(Y.jsx)("i",{class:"fa-regular fa-image"})]}),D.loggedIn()?Object(Y.jsxs)(Y.Fragment,{children:["Picture Posted ",Object(Y.jsx)("i",{class:"fa-solid fa-circle-check"}),": ",!1,x&&x.map((function(e){return Object(Y.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",onSubmit:f,children:[Object(Y.jsxs)("div",{className:"col-12 col-lg-9",data:"slide-right",children:[Object(Y.jsx)("input",{checkbox:!1,value:e.title,className:"form-input w-100",style:{lineHeight:"1.5",resize:"vertical"},onChange:y}),Object(Y.jsx)("label",{forHtml:e.title,children:e.title})]},e._id),Object(Y.jsxs)("div",{className:"col-12 col-lg-9",data:"slide-right",children:[Object(Y.jsx)("div",{id:"inline_container"}),Object(Y.jsx)("label",{forHtml:e.image,children:e.image})]},e._id),Object(Y.jsxs)("div",{className:"col-12 col-lg-9",data:"slide-left",children:[Object(Y.jsx)("input",{checkbox:!1,value:e.comment,className:"form-input w-100",style:{lineHeight:"1.5",resize:"vertical"},onChange:y}),Object(Y.jsx)("label",{forHtml:e.comment,children:e.comment})]}),Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsxs)("button",{className:"btn btn-primary btn-block py-3",type:"submit",children:["Add Picture(s) ",Object(Y.jsx)("i",{class:"fa-solid fa-file-import"})]})})]})}))]}):Object(Y.jsxs)("p",{children:["\u26d4 Log in to post picture(s)\u2757 Please\u2757"," ",Object(Y.jsxs)(v.b,{to:"/login",children:["Login ",Object(Y.jsx)("i",{id:"login_icon",class:"fa-solid fa-users-rectangle"})]})," or ",Object(Y.jsxs)(v.b,{to:"/signup",children:["Sign Up ",Object(Y.jsx)("i",{class:"fa-solid fa-user-plus"})]})]})]})};var Q=function(){return Object(Y.jsx)(v.a,{children:Object(Y.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(Y.jsx)(J,{}),Object(Y.jsx)("div",{className:"container",children:Object(Y.jsxs)(y.c,{children:[Object(Y.jsx)(y.a,{path:"/",element:Object(Y.jsx)(W,{})}),Object(Y.jsx)(y.a,{path:"/login",element:Object(Y.jsx)(U,{})}),Object(Y.jsx)(y.a,{path:"/signup",element:Object(Y.jsx)(z,{})}),Object(Y.jsx)(y.a,{path:"/pictureform",element:Object(Y.jsx)(K,{})}),Object(Y.jsx)(y.a,{path:"/me",element:Object(Y.jsx)(B,{})}),Object(Y.jsx)(y.a,{path:"/profiles/:username",element:Object(Y.jsx)(B,{})})]})}),Object(Y.jsx)(R,{})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},X=Object(u.a)({uri:"/graphql"}),Z=Object(g.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(d.a)(Object(d.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),ee=new h.a({link:Z.concat(X),cache:new O.a({})});f.a.render(Object(Y.jsx)(b.a.StrictMode,{children:Object(Y.jsx)(p.a,{client:ee,children:Object(Y.jsx)(Q,{})})}),document.getElementById("root")),V()}},[[87,1,2]]]);
//# sourceMappingURL=main.dee75029.chunk.js.map